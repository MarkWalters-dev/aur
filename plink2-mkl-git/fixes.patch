diff --color -ura src/plink2/2.0/build_dynamic/Makefile src/plink2-patched/2.0/build_dynamic/Makefile
--- src/plink2/2.0/build_dynamic/Makefile  2024-07-26 22:21:37.452928318 +0530
+++ src/plink2-patched/2.0/build_dynamic/Makefile  2024-07-26 22:23:41.722371369 +0530
@@ -18,21 +18,21 @@
 #     FORCE_32BIT (warning: you may need to add a zconf.h symlink to make that
 #     work)
 #   Debug symbols: set DEBUG to -g
-NO_AVX2 = 1
-NO_SSE42 = 1
-CPU_CHECK = 1
-NO_LAPACK =
-PREFER_CBLAS_F77 =
-ZSTD_O2 = 1
-STATIC_ZLIB =
-STATIC_ZSTD = 1
-DYNAMIC_MKL =
-MKLROOT = /home/ubuntu/intel/mkl
-MKL_IOMP5_DIR = /home/ubuntu/intel/compilers_and_libraries_2017.2.174/linux/compiler/lib/intel64
-STATIC_AOCL =
-AOCLROOT = /home/ubuntu/amd/aocl/3.2.0
-FORCE_32BIT =
-DEBUG =
+NO_AVX2 ?=
+NO_SSE42 ?=
+CPU_CHECK ?= 1
+NO_LAPACK ?=
+PREFER_CBLAS_F77 ?=
+ZSTD_O2 ?= 1
+STATIC_ZLIB ?=
+STATIC_ZSTD ?= 1
+DYNAMIC_MKL ?= 
+MKLROOT ?= /opt/intel/oneapi/mkl/latest
+MKL_IOMP5_DIR ?= /opt/intel/oneapi/compiler/latest/lib
+STATIC_AOCL ?=
+AOCLROOT ?=
+FORCE_32BIT ?=
+DEBUG ?=
 CC ?= gcc
 CXX ?= g++
 
@@ -53,7 +53,7 @@
   STATIC_ZLIB = 1
   ZSTD_O2 = 1
   ARCH32 = -m32 -march=i686
-  CXXFLAGS = -std=c++0x
+  CXXFLAGS += -std=c++0x
 else
   ifdef NO_AVX2
     ifndef NO_SSE42
@@ -70,7 +70,7 @@
       CPUCHECK_FLAGS = -O2 -DCPU_CHECK_AVX2 ${CXXWARN2}
     endif
   endif
-  CXXFLAGS = -std=c++11
+  CXXFLAGS += -std=c++11
 endif
 BASEFLAGS += ${ARCH32}
 
@@ -172,6 +172,13 @@
 
 SFX ?= ""
 
+# Installation defaults
+MKDIR     ?= mkdir
+INSTALL   ?= install
+STRIP_CMD ?= strip
+PREFIX    ?= /usr/local
+DESTDIR   ?= .
+
 all: plink2$(SFX) pgen_compress$(SFX)
 
 plink2$(SFX): $(CSRC2) $(ZCSRC2) $(ZSSRC2) $(CCSRC2) ../plink2_cpu.cc
@@ -200,12 +207,17 @@
 static_plink2lib_test: plink2lib.a ../pgen_compress.cc
 	$(CXX) $(CXXFLAGS) -o $@ ../pgen_compress.cc -L. plink2lib.a
 
-.PHONY: clean
+install-strip: install
+	$(STRIP_CMD) $(DESTDIR)$(PREFIX)/bin/*
+
+install:
+	$(MKDIR) -p $(DESTDIR)$(PREFIX)/bin
+	$(INSTALL) -c * $(DESTDIR)$(PREFIX)/bin
+	rm $(DESTDIR)$(PREFIX)/bin/Makefile $(DESTDIR)$(PREFIX)/bin/*.o
+
 clean:
 	rm -f *.o
-	rm -f plink2
-	rm -f pgen_compress
-	rm -f pgenlib.a
-	rm -f plink2lib.a
-	rm -f static_pgenlib_test
-	rm -f static_plink2lib_test
+	rm -f plink2*
+	rm -f pgen_compress*
+	rm -f *.a
+	rm -f static_*_test
