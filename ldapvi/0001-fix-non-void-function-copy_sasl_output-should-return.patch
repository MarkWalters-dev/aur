From 5cc6c75d077d6c17caa16ae703d6ba76fb25ce44 Mon Sep 17 00:00:00 2001
From: "Matteo Piccinini (loacker)" <matteo.piccinini@gmail.com>
Date: Tue, 27 Aug 2024 12:24:32 +0200
Subject: [PATCH] fix: non-void function 'copy_sasl_output' should return a
 value [-Wreturn-type]

https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=168838
---
 ldapvi/ldapvi.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ldapvi/ldapvi.c b/ldapvi/ldapvi.c
index b594327..b56787c 100644
--- a/ldapvi/ldapvi.c
+++ b/ldapvi/ldapvi.c
@@ -1470,7 +1470,7 @@ copy_sasl_output(FILE *out, char *sasl)
 	int line = 0;
 	int c;
 
-	if (lstat(sasl, &st) == -1) return;
+	if (lstat(sasl, &st) == -1) return 0;
 	if ( !(in = fopen(sasl, "r"))) syserr();
 
 	if (st.st_size > 0) {
-- 
2.46.0

