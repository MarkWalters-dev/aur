# Maintainer: Omansh Krishn omansh@duck.com

pkgname=materialious-bin
pkgver=1.6.16
pkgrel=1
pkgdesc='Modern material design for Invidious'
arch=('x86_64')
url='https://github.com/Materialious/Materialious'
license=('AGPL3')
makedepends=( libarchive )
depends=('at-spi2-core' 'gtk3' 'libnotify' 'libsecret' 'libxss' 'libxtst' 'nss' 'util-linux-libs' 'xdg-utils' )
optdepends=( libappindicator-gtk3 )
provides=('materialious')
conflicts=('materialious-git')
options=(!debug)


source=("${url}/releases/download/${pkgver}/Materialious_${pkgver}_amd64.deb")

sha512sums=('7d9171e2925bd1268a668cf858c7d48523cc3edfe7c13203ae2a42164f55c006b91e42b1788172949b0849c2707f798f8f70bc9b8093658a73858a09a998f75d')

package() {

  cd "${srcdir}"
  bsdtar -xf "${srcdir}/data.tar.xz"
  install -dm755 "${pkgdir}/opt"
  cp --preserve=mode -r 'opt' "${pkgdir}/"

	install -dm755 "${pkgdir}/usr/share/icons/hicolor/512x512/apps"
  install -m644 "${srcdir}/usr/share/icons/hicolor/512x512/apps/materialious.png" "${pkgdir}/usr/share/icons/hicolor/512x512/apps/materialious.png"

  install -dm755 "${pkgdir}/usr/share/applications"
  install -Dm644 "${srcdir}/usr/share/applications/materialious.desktop" "${pkgdir}/usr/share/applications/materialious.desktop"

}
