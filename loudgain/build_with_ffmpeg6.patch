--- a/CMakeLists.txt	2019-09-06 18:31:19.000000000 +0300
+++ b/CMakeLists.txt	2024-07-14 00:39:23.508338367 +0300
@@ -23,11 +23,15 @@
   LINK_DIRECTORIES(/usr/local/lib)
 ENDIF (APPLE)
 
+set(FFMPEG_ROOT "/usr")
+set(FFMPEG_INCLUDE_DIR "${FFMPEG_ROOT}/include/ffmpeg6.1")
+set(FFMPEG_LIBRARY_DIR "${FFMPEG_ROOT}/lib/ffmpeg6.1")
+set(ENV{PKG_CONFIG_PATH} "${FFMPEG_LIBRARY_DIR}/pkgconfig:$ENV{PKG_CONFIG_PATH}")
 
-PKG_CHECK_MODULES(LAVC libavcodec REQUIRED)
-PKG_CHECK_MODULES(LAVF libavformat REQUIRED)
-PKG_CHECK_MODULES(LAVR libswresample REQUIRED)
-PKG_CHECK_MODULES(LAVU libavutil REQUIRED)
+PKG_CHECK_MODULES(LAVC libavcodec>=60.0.0 libavcodec<61.0.0 REQUIRED)
+PKG_CHECK_MODULES(LAVF libavformat>=60.0.0 libavformat<61.0.0 REQUIRED)
+PKG_CHECK_MODULES(LAVR libswresample>=4.0.0 libswresample<5.0.0 REQUIRED)
+PKG_CHECK_MODULES(LAVU libavutil>=58.0.0 libavutil<59.0.0 REQUIRED)
 PKG_CHECK_MODULES(LTAG taglib REQUIRED)
 
 FIND_PACKAGE(EBUR128)
