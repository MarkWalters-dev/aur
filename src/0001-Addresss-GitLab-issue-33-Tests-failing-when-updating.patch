From d3a209212fea69270aca580b7bb4c28aae59e6e3 Mon Sep 17 00:00:00 2001
From: "Eric S. Raymond" <esr@thyrsus.com>
Date: Mon, 19 Aug 2024 20:37:41 -0400
Subject: [PATCH] Addresss GitLab issue #33: Tests failing when updating to
 1.40

---
 src | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/src b/src
index ccf2301..9ca0961 100755
--- a/src
+++ b/src
@@ -1715,6 +1715,7 @@ def checkout_method(*args):
     for arg in ctx.args:
         metadata = History(arg)
         ctx.resolve(metadata)
+        revision = None  # pacify pylint
         if ctx.is_empty():
             ctx.select_tip(metadata)
             revision = ctx.seq[0].native
@@ -1766,6 +1767,7 @@ def commit_method(*args):
             branch = args.pop(0)
         else:
             break
+    comment = None  # pacify pylint
     if not register_only:
         comment = CommentContext("commit", args)
     ctx = CommandContext(
@@ -1780,6 +1782,8 @@ def commit_method(*args):
         if os.path.isdir(arg):
             croak("cannot commit directory '%s'" % arg)
     for arg in ctx.args:
+        trailer = None  # Pacify pylint
+        diff = None  # Pacify pylint
         if not registered(arg):
             trailer = "Committing initial revision of {0}.\n".format(arg)
             revcount = 0
-- 
2.46.2

